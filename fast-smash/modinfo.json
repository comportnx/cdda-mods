[
    {
        "type": "MOD_INFO",
        "id": "fast-smash",
        "name": "COMPACK: Fast Pulping",
        "authors": [
            "comportnx"
        ],
        "description": "(A)ctivating a wielded sledgehammer pulps surrounding corpses.",
        "category": "misc",
        "dependencies": [
            "dda"
        ]
    },
    {
        "id": "fs_eoc_pulp",
        "type": "effect_on_condition",
        "effect": [
            {
                "npc_map_run_item_eocs": "all",
                "loc": {
                    "context_val": "spell_location"
                },
                "search_data": [
                    {
                        "flags": "CORPSE"
                    }
                ],
                "true_eocs": [
                    {
                        "id": "fs_eoc_apply_pulp",
                        "effect": [
                            {
                                "npc_set_flag": "PULPED"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "id": "fs_spell_pulp",
        "type": "SPELL",
        "name": "pulp corpses",
        "description": "Pulps a corpse",
        "valid_targets": [
            "ground"
        ],
        "effect": "effect_on_condition",
        "effect_str": "fs_eoc_pulp",
        "shape": "blast",
        "flags": [
            "SILENT",
            "NO_EXPLOSION_SFX",
            "NO_FAIL",
            "NO_HANDS",
            "NON_MAGICAL"
        ],
        "min_range": 0,
        "max_range": 0,
        "min_aoe": 1,
        "max_aoe": 1,
        "base_casting_time": 600,
        "final_casting_time": 600,
        "base_energy_cost": 500,
        "final_energy_cost": 500,
        "energy_source": "STAMINA",
        "message": "You smash around with the hammer"
    },
    {
        "type": "ITEM",
        "id": "hammer_sledge",
        "copy-from": "hammer_sledge",
        "use_action": {
            "type": "cast_spell",
            "spell_id": "fs_spell_pulp",
            "no_fail": true,
            "level": 1,
            "need_wielding": true,
            "mundane": true
        }
    },
    {
        "type": "ITEM",
        "id": "hammer_sledge_heavy",
        "copy-from": "hammer_sledge_heavy",
        "use_action": {
            "type": "cast_spell",
            "spell_id": "fs_spell_pulp",
            "no_fail": true,
            "level": 1,
            "need_wielding": true,
            "mundane": true
        }
    }    
]